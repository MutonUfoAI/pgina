<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--

	zenlike1.0 by nodethirtythree design
	http://www.nodethirtythree.com

-->
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<title>pGina fork</title>
<meta name="keywords" content="" />
<meta name="description" content="" />

<link rel="stylesheet" type="text/css" href="https://mutonufoai.github.io/pgina/default_doc.css" />

</head>
<body>

<div id="outer">

	<div id="header">
		<div id="headercontent">
			<h1>pGina fork</h1>
			<h2>Open Source Windows Authentication</h2>
		</div>
		<div id="logo"><a href="https://mutonufoai.github.io/pgina/index.html"><img src="https://mutonufoai.github.io/pgina/images/pginalogo.png" /></a></div>
	</div>

	
	<div id="menu">
		<!-- HINT: Set the class of any menu link below to "active" to make it appear active -->
		<ul>
			<li><a href="https://mutonufoai.github.io/pgina/index.html">Home</a></li>
			<li><a href="https://mutonufoai.github.io/pgina/download.html">Download</a></li>
      <li><a href="https://mutonufoai.github.io/pgina/support.html">Support</a></li>
      <li><a href="https://mutonufoai.github.io/pgina/documentation.html" class="active">Documentation</a></li>
      <li><a href="https://mutonufoai.github.io/pgina/develop.html">Develop</a></li>
      <li><a href="https://mutonufoai.github.io/pgina/faq.html">FAQ</a></li>
      <li><a href="https://mutonufoai.github.io/pgina/thanks.html">Thanks</a></li>
		</ul>
	</div>

	<div id="menubottom"></div>

	<div id="content">
	    
	    
		
			
<h1 id="scripting_plugin_documentation">Scripting Plugin Documentation</h1>

<ul>
<li><strong>Plugin Name:</strong> Scripting</li>

<li><strong>Plugin Type:</strong> Authentication, Authorization, Gateway, Notification, Change Password</li>

<li><strong>Version:</strong> 3.9.9.11</li>
</ul>

<h2 id="how_it_works">How it Works</h2>

<p>The scripting plugin is able to run any programs at any stage of the login process.</p>

<p>If a program can’t be run an error is returned.</p>

<p><b>Programs will run in sync</b> (one after another), and the return status will be ignored.</p>

<p>You must ensure that every script is terminating, and doesn’t block the plugin.</p>

<p>This is especially important during logons. If your script is blocking than the whole plugin will block which leads to a pGina block.</p>

<p>If you want to run a program in the background you need to start it trough a launcher.</p>

<p>‘cmd.exe /k’ would block</p>

<p>‘cmd.exe /c start ”” /i cmd.exe /k’ would not</p>

<p>Always consider the <a href="https://mutonufoai.github.io/pgina/documentation/user.html#ordering_plugins">Plugin Order</a></p>

<h2 id="configuration">Configuration</h2>

<h3 id="authentication_authorization_gateway">Authentication, Authorization, Gateway</h3>

<ul>
<li>In all of this stages programs can only run as SYSTEM.</li>

<li>This plugin can’t Authenticate nor Authorize a user, another plugin has to successfully Authenticate or Authorize.</li>
</ul>

<p><img src="https://mutonufoai.github.io/pgina/images/documentation/plugins/scripting_authe.png" alt="Scripting Plugin Authentication" /></p>

<ul>
<li><strong>submit pwd</strong> – will add the users password into the command line (the macro is also needed)</li>

<li><strong>macros</strong> – is a macro variable for the corresponding value</li>
</ul>

<h3 id="event_notification_change_password">Event Notification, Change Password</h3>

<p>It is possible to run pograms in context of the SYSTEM and the USER, during logon and/or logoff events.</p>

<p><img src="https://mutonufoai.github.io/pgina/images/documentation/plugins/scripting_notify.png" alt="Scripting Plugin Notification" /></p>

<ul>
<li><strong>submit pwd</strong> – will add the users password into the command line (the macro is also needed)</li>

<li><strong>logon</strong> – script is triggered by a logon event</li>

<li><strong>logoff</strong> – script is triggered by a logoff event</li>

<li><strong>macros</strong> – is a macro variable for the corresponding value. %Ae, %Ao and %Gw will return a list of GUI’s from successfully pre-run plugins of corresponding stages</li>
</ul>

    
		
		<!-- Secondary content: Stuff that goes in the secondary content column (by default, the narrower right column) -->



	</div>

	<div id="footer">
			<div class="left">&copy; 2017 pgina.org</div>
			<div class="right">Original design by 
			<a href="http://www.nodethirtythree.com/">NodeThirtyThree Design</a></div>
	</div>
	
</div>

</body>
</html>

